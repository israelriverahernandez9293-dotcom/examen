<!DOCTYPE html><html xmlns:th="http://www.thymeleaf.org"><head><meta charset="UTF-8"><title>Redes Neuronales</title><link rel="stylesheet" th:href="@{/css/styles.css}"></head><body>
<div th:replace="~{fragments/layout :: header}"></div><div class="container"><div class="card"><h2>Perceptrón desde cero</h2><p>Clasificación binaria (AND/OR o dataset manual).</p>
<form th:action="@{/redes-neuronales}" th:object="${request}" method="post"><label>Dataset</label><select th:field="*{datasetType}"><option value="OR">OR</option><option value="AND">AND</option><option value="CUSTOM">CUSTOM</option></select><label>Dataset manual (x1,x2,y por línea)</label><textarea th:field="*{customDataset}" rows="4"></textarea><label>Learning rate</label><input th:field="*{learningRate}"><label>Épocas</label><input th:field="*{epochs}"><button type="submit">Entrenar</button></form><p class="error" th:if="${error}" th:text="${error}"></p></div>
<div class="card" th:if="${result != null}"><p>Pesos iniciales: w1=<span th:text="${result.initialW1}"></span>, w2=<span th:text="${result.initialW2}"></span>, b=<span th:text="${result.initialBias}"></span></p><table class="table"><tr><th>Época</th><th>w1</th><th>w2</th><th>bias</th><th>Error total</th></tr><tr th:each="e : ${result.epochs}"><td th:text="${e.epoch}"></td><td th:text="${#numbers.formatDecimal(e.weight1,1,3)}"></td><td th:text="${#numbers.formatDecimal(e.weight2,1,3)}"></td><td th:text="${#numbers.formatDecimal(e.bias,1,3)}"></td><td th:text="${e.totalError}"></td></tr></table><p>Pesos finales: w1=<span th:text="${#numbers.formatDecimal(result.finalW1,1,3)}"></span>, w2=<span th:text="${#numbers.formatDecimal(result.finalW2,1,3)}"></span>, b=<span th:text="${#numbers.formatDecimal(result.finalBias,1,3)}"></span></p></div></div><div th:replace="~{fragments/layout :: footer}"></div></body></html>
