<!DOCTYPE html><html xmlns:th="http://www.thymeleaf.org"><head><meta charset="UTF-8"><title>Auto-ajuste</title><link rel="stylesheet" th:href="@{/css/styles.css}"></head><body>
<div th:replace="~{fragments/layout :: header}"></div><div class="container"><div class="card"><h2>Auto-ajuste</h2><p>Control proporcional iterativo con percepción (medición), error y ajuste de parámetro.</p>
<form th:action="@{/auto-ajuste}" th:object="${request}" method="post">
<label>Setpoint</label><input th:field="*{setpoint}"><label>Valor inicial</label><input th:field="*{initialValue}">
<label>Ruido amplitud</label><input th:field="*{noiseAmplitude}"><label>Iteraciones</label><input th:field="*{iterations}"><label>Ganancia proporcional</label><input th:field="*{proportionalGain}"><button type="submit">Simular</button></form></div>
<div class="card" th:if="${steps != null}"><h3>Resultados por iteración</h3><table class="table"><tr><th>k</th><th>Medición</th><th>Error</th><th>Parámetro</th><th>Salida</th></tr><tr th:each="s : ${steps}"><td th:text="${s.iteration}"></td><td th:text="${#numbers.formatDecimal(s.measured,1,3)}"></td><td th:text="${#numbers.formatDecimal(s.error,1,3)}"></td><td th:text="${#numbers.formatDecimal(s.adjustedParameter,1,3)}"></td><td th:text="${#numbers.formatDecimal(s.output,1,3)}"></td></tr></table></div></div><div th:replace="~{fragments/layout :: footer}"></div></body></html>
